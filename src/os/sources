ifeq ($(TARGET),freertos.armv6m)
USE_BGET := True
endif
ifeq ($(TARGET),freertos.armv7m)
USE_BGET := True
endif
ifeq ($(TARGET),freertos.armv7m.exc)
USE_BGET := True
endif
USE_BGET ?= False


VPATH := $(SRCDIR):

CSRCS += os.c \
         stack_malloc.c \
         watchdog.c

CXXSRCS += FakeClock.cxx \
           logging_malloc.cxx \
           MDNS.cxx \
           OSImpl.cxx \
           OSSelectWakeup.cxx \
           TempFile.cxx


ifeq ($(USE_BGET),True)
CSRCS += bget.c \
         bget_impl.c \

bget.o: CFLAGS+= -Wno-error=strict-prototypes
bget_impl.o: CFLAGS+= -Wno-error=strict-prototypes
endif
